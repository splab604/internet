# 实验室服务器
* 服务器基本情况
```
CPU型号：        Intel(R) Xeon(R) CPU E5-2667 v4 @ 3.20GHz
CPU核心数：      32
GPU：            3 x NVIDIA Tesla K80
硬盘：           512G SSD + 8T 机械硬盘
```

* 分配情况
```
管理员： 宋宏伟 李建琛
192.168.11.211	陈晨 李建琛 关亚东 吴阳澄
192.168.11.212	罗辉 宋文杰 钱凡 张力文
192.168.11.213	薛嘉宾 史秋莹 
192.168.11.214  宋宏伟 杜志浩 
192.168.11.215	所有硕士生，部分博士生 
192.168.11.216	两位郑老师 
```

* 实验室内网如何连接服务器？
```
方法一： ssh （可下载xshell）
方法二： windows 自带的远程桌面连接

mac 系统下可以使用 microsoft remote desktop
```

* 实验室外网如何访问服务器？
```
1. login to vpn.hit.edu.cn
2. visit website to get a terminal
    http://202.118.228.98:6000X, where X from 1-5
```

* 访问服务器共享文件夹
```
# Windows, open Folder
\\192.168.11.211\data\corpus
# Mac, open Finder
smb://192.168.11.211/data/corpus
```

* 磁盘空间
```
所有的文件均需保存在如下目录
  /data/你的名字/
```

* 常用数据集
```
绝大部分常用语音数据集，均保存在211服务器，/data/corpus/目录下
```

* 如果安装软件时，需要管理员权限
```
1.尽量安装在自己目录下，无需管理员权限。
2.如确实需要，查好安装指令，发送给管理员。
``` 

* python & matlab
```shell
## 实现在终端中直接输入“matlab”或“pycharm”即可启动相应 IDE 的目的

# 在 .bashrc 里添加 matlab 安装目录到环境变量

vim ~/.bashrc
# vim 基本操作
# i      表示插入
# :wq!   保存并退出
# :q!    退出

# 在 .bashrc 最后面添加：
export PATH="/usr/local/MATLAB/R2016b/bin:$PATH"

# 保存并退出后，在终端执行
source .bashrc

# bashrc 只在自己用户下生效

# python 推荐使用 anaconda 创建虚拟环境，安装在自己的虚拟环境下

# 若 python IDE 使用 pycharm，可以在 .bashrc 最后面添加下面一行代码以实现在终端中快速打开 pycharm（换成自己的路径）
alias pycharm='nohup /home/lijianchen/pycharm/pycharm-20183.3/bin/pycharm.sh &'

# alias 相当于重命名的意思，terminal 执行 pycharm 就相当于执行后面的东西
# nohup：程序可以在关掉 terminal 时在后台仍然运行
```

* windows 与远程服务器文件传输
    1. 通过 xshell
    2. win+R 打开运行，输入`\\192.168.11.215`，输入账号密码，即可访问`/data`目录下自己的文件夹
    3. 或在网上邻居顶端地址栏输入`\\192.168.11.215`


# 服务器使用守则
```
基本使用原则
	服务器优先分配给博士生科研使用。
	每台服务器会预先分配使用者，预分配使用者优先。
	每人账号密码保密，不可分享。
	实验室资源，未经老师同意，不可外借。
	如果使用期间存在占满CPU/内存/GPU情况，原则上应征得预分配使用者同意。
借用规则
	借用者与相关被借用者私下协商，同意后，需告知管理员借用截止日期。
	如：王二借用211至2019.1.7
	借用时，管理员为借用人单独创建账户，不可借用他人账户登录。
	借用结束，管理员关闭借用人登录功能，但不会删除账户和硬盘占用。
	为防止长期占用服务器，一次借用时长原则上不超过一周。
	在不影响被借用者正常使用情况下，被借用人一般也不应拒绝。
	为方便管理，借用截止日期之前，借用者需确保已整理好相关实验结果。

```

# 遇到的问题

* 修改密码后，windows 远程桌面无法连接

    打开 windows powershell 或 xshell，输入
    ```
    ssh <your account>@192.168.11.215
    ```
    
    根据提示输入密码登陆远程服务器，在终端输出：
    ```
    killall -u <your name>
    ```
    
    退出，重新登陆远程桌面
  
